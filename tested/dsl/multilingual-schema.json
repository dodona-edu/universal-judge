{
  "$id": "tested:dsl:schema7",
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "TESTed-DSL",
  "oneOf": [
    {
      "$ref": "#/definitions/_rootObject"
    },
    {
      "$ref": "#/definitions/_tabList"
    },
    {
      "$ref": "#/definitions/_unitList"
    }
  ],
  "definitions": {
    "_rootObject": {
      "type": "object",
      "oneOf": [
        {
          "required": [
            "tabs"
          ],
          "not": {
            "required": [
              "units"
            ]
          }
        },
        {
          "required": [
            "units"
          ],
          "not": {
            "required": [
              "tabs"
            ]
          }
        }
      ],
      "properties": {
        "files": {
          "oneOf": [
            {
              "description": "A list of files used in the test suite.",
              "type": "array",
              "items": {
                "$ref": "#/subDefinitions/file"
              }
            },
            {
              "type": "object",
              "additionalProperties": {
                "description": "A list of files used in the test suite.",
                "type": "array",
                "items": {
                  "$ref": "#/subDefinitions/file"
                }
              },
              "not": {
                "anyOf": [
                  {
                    "required": [
                      "description"
                    ]
                  },
                  {
                    "required": [
                      "value"
                    ]
                  },
                  {
                    "required": [
                      "types"
                    ]
                  }
                ]
              }
            }
          ]
        },
        "namespace": {
          "oneOf": [
            {
              "type": "string",
              "description": "Namespace of the submitted solution, in `snake_case`"
            },
            {
              "type": "object",
              "additionalProperties": {
                "type": "string",
                "description": "Namespace of the submitted solution, in `snake_case`"
              },
              "not": {
                "anyOf": [
                  {
                    "required": [
                      "description"
                    ]
                  },
                  {
                    "required": [
                      "value"
                    ]
                  },
                  {
                    "required": [
                      "types"
                    ]
                  }
                ]
              }
            }
          ]
        },
        "tabs": {
          "$ref": "#/definitions/_tabList"
        },
        "units": {
          "$ref": "#/definitions/_unitList"
        },
        "language": {
          "description": "Indicate that all code is in a specific language.",
          "oneOf": [
            {
              "$ref": "#/subDefinitions/programmingLanguage"
            },
            {
              "const": "tested"
            }
          ]
        },
        "definitions": {
          "description": "Define hashes to use elsewhere.",
          "type": "object"
        },
        "config": {
          "$ref": "#/subDefinitions/inheritableConfigObject"
        },
        "translations": {
          "type": "object",
          "description": "Define translations in the global scope."
        }
      }
    },
    "_tabList": {
      "oneOf": [
        {
          "type": "array",
          "minItems": 1,
          "items": {
            "$ref": "#/definitions/tab"
          }
        },
        {
          "type": "object",
          "additionalProperties": {
            "type": "array",
            "minItems": 1,
            "items": {
              "$ref": "#/definitions/tab"
            }
          },
          "not": {
            "anyOf": [
              {
                "required": [
                  "description"
                ]
              },
              {
                "required": [
                  "value"
                ]
              },
              {
                "required": [
                  "types"
                ]
              }
            ]
          }
        }
      ]
    },
    "_unitList": {
      "oneOf": [
        {
          "type": "array",
          "minItems": 1,
          "items": {
            "$ref": "#/definitions/unit"
          }
        },
        {
          "type": "object",
          "additionalProperties": {
            "type": "array",
            "minItems": 1,
            "items": {
              "$ref": "#/definitions/unit"
            }
          },
          "not": {
            "anyOf": [
              {
                "required": [
                  "description"
                ]
              },
              {
                "required": [
                  "value"
                ]
              },
              {
                "required": [
                  "types"
                ]
              }
            ]
          }
        }
      ]
    },
    "tab": {
      "type": "object",
      "description": "A tab in the test suite.",
      "required": [
        "tab"
      ],
      "properties": {
        "files": {
          "oneOf": [
            {
              "description": "A list of files used in the test suite.",
              "type": "array",
              "items": {
                "$ref": "#/subDefinitions/file"
              }
            },
            {
              "type": "object",
              "additionalProperties": {
                "description": "A list of files used in the test suite.",
                "type": "array",
                "items": {
                  "$ref": "#/subDefinitions/file"
                }
              },
              "not": {
                "anyOf": [
                  {
                    "required": [
                      "description"
                    ]
                  },
                  {
                    "required": [
                      "value"
                    ]
                  },
                  {
                    "required": [
                      "types"
                    ]
                  }
                ]
              }
            }
          ]
        },
        "hidden": {
          "type": "boolean",
          "description": "Defines if the unit/tab is hidden for the student or not"
        },
        "tab": {
          "oneOf": [
            {
              "description": "The name of this tab.",
              "type": "string"
            },
            {
              "type": "object",
              "additionalProperties": {
                "description": "The name of this tab.",
                "type": "string"
              },
              "not": {
                "anyOf": [
                  {
                    "required": [
                      "description"
                    ]
                  },
                  {
                    "required": [
                      "value"
                    ]
                  },
                  {
                    "required": [
                      "types"
                    ]
                  }
                ]
              }
            }
          ]
        },
        "definitions": {
          "description": "Define objects to use elsewhere.",
          "type": "object"
        },
        "config": {
          "$ref": "#/subDefinitions/inheritableConfigObject"
        },
        "translations": {
          "type": "object",
          "description": "Define translations in the global scope."
        }
      },
      "oneOf": [
        {
          "required": [
            "contexts"
          ],
          "properties": {
            "contexts": {
              "$ref": "#/definitions/_contextList"
            }
          }
        },
        {
          "required": [
            "testcases"
          ],
          "properties": {
            "testcases": {
              "$ref": "#/definitions/_testcaseList"
            }
          }
        }
      ]
    },
    "unit": {
      "type": "object",
      "description": "A unit in the test suite.",
      "required": [
        "unit"
      ],
      "properties": {
        "files": {
          "oneOf": [
            {
              "description": "A list of files used in the test suite.",
              "type": "array",
              "items": {
                "$ref": "#/subDefinitions/file"
              }
            },
            {
              "type": "object",
              "additionalProperties": {
                "description": "A list of files used in the test suite.",
                "type": "array",
                "items": {
                  "$ref": "#/subDefinitions/file"
                }
              },
              "not": {
                "anyOf": [
                  {
                    "required": [
                      "description"
                    ]
                  },
                  {
                    "required": [
                      "value"
                    ]
                  },
                  {
                    "required": [
                      "types"
                    ]
                  }
                ]
              }
            }
          ]
        },
        "hidden": {
          "type": "boolean",
          "description": "Defines if the unit/tab is hidden for the student or not"
        },
        "unit": {
          "oneOf": [
            {
              "description": "The name of this tab.",
              "type": "string"
            },
            {
              "type": "object",
              "additionalProperties": {
                "description": "The name of this tab.",
                "type": "string"
              },
              "not": {
                "anyOf": [
                  {
                    "required": [
                      "description"
                    ]
                  },
                  {
                    "required": [
                      "value"
                    ]
                  },
                  {
                    "required": [
                      "types"
                    ]
                  }
                ]
              }
            }
          ]
        },
        "definitions": {
          "description": "Define objects to use elsewhere.",
          "type": "object"
        },
        "config": {
          "$ref": "#/subDefinitions/inheritableConfigObject"
        },
        "translations": {
          "type": "object",
          "description": "Define translations in the global scope."
        }
      },
      "oneOf": [
        {
          "required": [
            "cases"
          ],
          "properties": {
            "cases": {
              "$ref": "#/definitions/_caseList"
            }
          }
        },
        {
          "required": [
            "scripts"
          ],
          "properties": {
            "scripts": {
              "$ref": "#/definitions/_scriptList"
            }
          }
        }
      ]
    },
    "_contextList": {
      "oneOf": [
        {
          "type": "array",
          "minItems": 1,
          "items": {
            "$ref": "#/definitions/context"
          }
        },
        {
          "type": "object",
          "additionalProperties": {
            "type": "array",
            "minItems": 1,
            "items": {
              "$ref": "#/definitions/context"
            }
          },
          "not": {
            "anyOf": [
              {
                "required": [
                  "description"
                ]
              },
              {
                "required": [
                  "value"
                ]
              },
              {
                "required": [
                  "types"
                ]
              }
            ]
          }
        }
      ]
    },
    "_caseList": {
      "oneOf": [
        {
          "type": "array",
          "minItems": 1,
          "items": {
            "$ref": "#/definitions/case"
          }
        },
        {
          "type": "object",
          "additionalProperties": {
            "type": "array",
            "minItems": 1,
            "items": {
              "$ref": "#/definitions/case"
            }
          },
          "not": {
            "anyOf": [
              {
                "required": [
                  "description"
                ]
              },
              {
                "required": [
                  "value"
                ]
              },
              {
                "required": [
                  "types"
                ]
              }
            ]
          }
        }
      ]
    },
    "_testcaseList": {
      "oneOf": [
        {
          "type": "array",
          "minItems": 1,
          "items": {
            "$ref": "#/definitions/testcase"
          }
        },
        {
          "type": "object",
          "additionalProperties": {
            "type": "array",
            "minItems": 1,
            "items": {
              "$ref": "#/definitions/testcase"
            }
          },
          "not": {
            "anyOf": [
              {
                "required": [
                  "description"
                ]
              },
              {
                "required": [
                  "value"
                ]
              },
              {
                "required": [
                  "types"
                ]
              }
            ]
          }
        }
      ]
    },
    "_scriptList": {
      "oneOf": [
        {
          "type": "array",
          "minItems": 1,
          "items": {
            "$ref": "#/definitions/script"
          }
        },
        {
          "type": "object",
          "additionalProperties": {
            "type": "array",
            "minItems": 1,
            "items": {
              "$ref": "#/definitions/script"
            }
          },
          "not": {
            "anyOf": [
              {
                "required": [
                  "description"
                ]
              },
              {
                "required": [
                  "value"
                ]
              },
              {
                "required": [
                  "types"
                ]
              }
            ]
          }
        }
      ]
    },
    "context": {
      "type": "object",
      "description": "A set of testcase in the same context.",
      "required": [
        "testcases"
      ],
      "properties": {
        "files": {
          "oneOf": [
            {
              "description": "A list of files used in the test suite.",
              "type": "array",
              "items": {
                "$ref": "#/subDefinitions/file"
              }
            },
            {
              "type": "object",
              "additionalProperties": {
                "description": "A list of files used in the test suite.",
                "type": "array",
                "items": {
                  "$ref": "#/subDefinitions/file"
                }
              },
              "not": {
                "anyOf": [
                  {
                    "required": [
                      "description"
                    ]
                  },
                  {
                    "required": [
                      "value"
                    ]
                  },
                  {
                    "required": [
                      "types"
                    ]
                  }
                ]
              }
            }
          ]
        },
        "context": {
          "oneOf": [
            {
              "type": "string",
              "description": "Description of this context."
            },
            {
              "type": "object",
              "additionalProperties": {
                "type": "string",
                "description": "Description of this context."
              },
              "not": {
                "anyOf": [
                  {
                    "required": [
                      "description"
                    ]
                  },
                  {
                    "required": [
                      "value"
                    ]
                  },
                  {
                    "required": [
                      "types"
                    ]
                  }
                ]
              }
            }
          ]
        },
        "testcases": {
          "$ref": "#/definitions/_testcaseList"
        },
        "translations": {
          "type": "object",
          "description": "Define translations in the global scope."
        }
      }
    },
    "case": {
      "type": "object",
      "description": "A test case.",
      "required": [
        "script"
      ],
      "properties": {
        "files": {
          "oneOf": [
            {
              "description": "A list of files used in the test suite.",
              "type": "array",
              "items": {
                "$ref": "#/subDefinitions/file"
              }
            },
            {
              "type": "object",
              "additionalProperties": {
                "description": "A list of files used in the test suite.",
                "type": "array",
                "items": {
                  "$ref": "#/subDefinitions/file"
                }
              },
              "not": {
                "anyOf": [
                  {
                    "required": [
                      "description"
                    ]
                  },
                  {
                    "required": [
                      "value"
                    ]
                  },
                  {
                    "required": [
                      "types"
                    ]
                  }
                ]
              }
            }
          ]
        },
        "context": {
          "oneOf": [
            {
              "type": "string",
              "description": "Description of this context."
            },
            {
              "type": "object",
              "additionalProperties": {
                "type": "string",
                "description": "Description of this context."
              },
              "not": {
                "anyOf": [
                  {
                    "required": [
                      "description"
                    ]
                  },
                  {
                    "required": [
                      "value"
                    ]
                  },
                  {
                    "required": [
                      "types"
                    ]
                  }
                ]
              }
            }
          ]
        },
        "script": {
          "$ref": "#/definitions/_scriptList"
        },
        "translations": {
          "type": "object",
          "description": "Define translations in the global scope."
        }
      }
    },
    "testcase": {
      "type": "object",
      "description": "An individual test for a statement or expression",
      "additionalProperties": false,
      "properties": {
        "description": {
          "$ref": "#/subDefinitions/message"
        },
        "stdin": {
          "oneOf": [
            {
              "description": "Stdin for this context",
              "type": [
                "string",
                "number",
                "integer",
                "boolean"
              ]
            },
            {
              "type": "object",
              "additionalProperties": {
                "description": "Stdin for this context",
                "type": [
                  "string",
                  "number",
                  "integer",
                  "boolean"
                ]
              },
              "not": {
                "anyOf": [
                  {
                    "required": [
                      "description"
                    ]
                  },
                  {
                    "required": [
                      "value"
                    ]
                  },
                  {
                    "required": [
                      "types"
                    ]
                  }
                ]
              }
            }
          ]
        },
        "arguments": {
          "oneOf": [
            {
              "description": "Array of program call arguments",
              "type": "array",
              "items": {
                "oneOf": [
                  {
                    "type": [
                      "string",
                      "number",
                      "integer",
                      "boolean"
                    ]
                  },
                  {
                    "type": "object",
                    "additionalProperties": {
                      "type": [
                        "string",
                        "number",
                        "integer",
                        "boolean"
                      ]
                    },
                    "not": {
                      "anyOf": [
                        {
                          "required": [
                            "description"
                          ]
                        },
                        {
                          "required": [
                            "value"
                          ]
                        },
                        {
                          "required": [
                            "types"
                          ]
                        }
                      ]
                    }
                  }
                ]
              }
            },
            {
              "type": "object",
              "additionalProperties": {
                "description": "Array of program call arguments",
                "type": "array",
                "items": {
                  "type": [
                    "string",
                    "number",
                    "integer",
                    "boolean"
                  ]
                }
              },
              "not": {
                "anyOf": [
                  {
                    "required": [
                      "description"
                    ]
                  },
                  {
                    "required": [
                      "value"
                    ]
                  },
                  {
                    "required": [
                      "types"
                    ]
                  }
                ]
              }
            }
          ]
        },
        "statement": {
          "description": "The statement to evaluate.",
          "$ref": "#/subDefinitions/expressionOrStatement"
        },
        "expression": {
          "description": "The expression to evaluate.",
          "$ref": "#/subDefinitions/expressionOrStatement"
        },
        "exception": {
          "description": "Expected exception message",
          "$ref": "#/subDefinitions/exceptionChannel"
        },
        "files": {
          "oneOf": [
            {
              "description": "A list of files used in the test suite.",
              "type": "array",
              "items": {
                "$ref": "#/subDefinitions/file"
              }
            },
            {
              "type": "object",
              "additionalProperties": {
                "description": "A list of files used in the test suite.",
                "type": "array",
                "items": {
                  "$ref": "#/subDefinitions/file"
                }
              },
              "not": {
                "anyOf": [
                  {
                    "required": [
                      "description"
                    ]
                  },
                  {
                    "required": [
                      "value"
                    ]
                  },
                  {
                    "required": [
                      "types"
                    ]
                  }
                ]
              }
            }
          ]
        },
        "return": {
          "description": "Expected return value",
          "$ref": "#/subDefinitions/returnOutputChannel"
        },
        "stderr": {
          "description": "Expected output at stderr",
          "$ref": "#/subDefinitions/textOutputChannel"
        },
        "stdout": {
          "description": "Expected output at stdout",
          "$ref": "#/subDefinitions/textOutputChannel"
        },
        "file": {
          "description": "Expected files generated by the submission.",
          "$ref": "#/subDefinitions/fileOutputChannel"
        },
        "exit_code": {
          "type": "integer",
          "description": "Expected exit code for the run"
        }
      }
    },
    "script": {
      "type": "object",
      "description": "An individual test (script) for a statement or expression",
      "properties": {
        "description": {
          "$ref": "#/subDefinitions/message"
        },
        "stdin": {
          "oneOf": [
            {
              "description": "Stdin for this context",
              "type": [
                "string",
                "number",
                "integer",
                "boolean"
              ]
            },
            {
              "type": "object",
              "additionalProperties": {
                "description": "Stdin for this context",
                "type": [
                  "string",
                  "number",
                  "integer",
                  "boolean"
                ]
              },
              "not": {
                "anyOf": [
                  {
                    "required": [
                      "description"
                    ]
                  },
                  {
                    "required": [
                      "value"
                    ]
                  },
                  {
                    "required": [
                      "types"
                    ]
                  }
                ]
              }
            }
          ]
        },
        "arguments": {
          "oneOf": [
            {
              "description": "Array of program call arguments",
              "type": "array",
              "items": {
                "oneOf": [
                  {
                    "type": [
                      "string",
                      "number",
                      "integer",
                      "boolean"
                    ]
                  },
                  {
                    "type": "object",
                    "additionalProperties": {
                      "type": [
                        "string",
                        "number",
                        "integer",
                        "boolean"
                      ]
                    },
                    "not": {
                      "anyOf": [
                        {
                          "required": [
                            "description"
                          ]
                        },
                        {
                          "required": [
                            "value"
                          ]
                        },
                        {
                          "required": [
                            "types"
                          ]
                        }
                      ]
                    }
                  }
                ]
              }
            },
            {
              "type": "object",
              "additionalProperties": {
                "description": "Array of program call arguments",
                "type": "array",
                "items": {
                  "type": [
                    "string",
                    "number",
                    "integer",
                    "boolean"
                  ]
                }
              },
              "not": {
                "anyOf": [
                  {
                    "required": [
                      "description"
                    ]
                  },
                  {
                    "required": [
                      "value"
                    ]
                  },
                  {
                    "required": [
                      "types"
                    ]
                  }
                ]
              }
            }
          ]
        },
        "statement": {
          "description": "The statement to evaluate.",
          "$ref": "#/subDefinitions/expressionOrStatement"
        },
        "expression": {
          "description": "The expression to evaluate.",
          "$ref": "#/subDefinitions/expressionOrStatement"
        },
        "exception": {
          "description": "Expected exception message",
          "$ref": "#/subDefinitions/exceptionChannel"
        },
        "files": {
          "oneOf": [
            {
              "description": "A list of files used in the test suite.",
              "type": "array",
              "items": {
                "$ref": "#/subDefinitions/file"
              }
            },
            {
              "type": "object",
              "additionalProperties": {
                "description": "A list of files used in the test suite.",
                "type": "array",
                "items": {
                  "$ref": "#/subDefinitions/file"
                }
              },
              "not": {
                "anyOf": [
                  {
                    "required": [
                      "description"
                    ]
                  },
                  {
                    "required": [
                      "value"
                    ]
                  },
                  {
                    "required": [
                      "types"
                    ]
                  }
                ]
              }
            }
          ]
        },
        "return": {
          "description": "Expected return value",
          "$ref": "#/subDefinitions/returnOutputChannel"
        },
        "stderr": {
          "description": "Expected output at stderr",
          "$ref": "#/subDefinitions/textOutputChannel"
        },
        "stdout": {
          "description": "Expected output at stdout",
          "$ref": "#/subDefinitions/textOutputChannel"
        },
        "file": {
          "description": "Expected files generated by the submission.",
          "$ref": "#/subDefinitions/fileOutputChannel"
        },
        "exit_code": {
          "type": "integer",
          "description": "Expected exit code for the run"
        }
      }
    }
  },
  "subDefinitions": {
    "expressionOrStatement": {
      "oneOf": [
        {
          "type": "string",
          "format": "tested-dsl-expression",
          "description": "A statement of expression in Python-like syntax as YAML string."
        },
        {
          "type": "object",
          "additionalProperties": {
            "type": "string",
            "format": "tested-dsl-expression",
            "description": "A statement of expression in Python-like syntax as YAML string."
          },
          "not": {
            "anyOf": [
              {
                "required": [
                  "description"
                ]
              },
              {
                "required": [
                  "value"
                ]
              },
              {
                "required": [
                  "types"
                ]
              }
            ]
          }
        },
        {
          "anyOf": [
            {
              "oneOf": [
                {
                  "type": "object",
                  "description": "Programming-language-specific statement or expression.",
                  "minProperties": 1,
                  "propertyNames": {
                    "$ref": "#/subDefinitions/programmingLanguage"
                  },
                  "items": {
                    "oneOf": [
                      {
                        "type": "string",
                        "description": "A language-specific literal, which will be used verbatim."
                      },
                      {
                        "type": "object",
                        "additionalProperties": {
                          "type": "string",
                          "description": "A language-specific literal, which will be used verbatim."
                        },
                        "not": {
                          "anyOf": [
                            {
                              "required": [
                                "description"
                              ]
                            },
                            {
                              "required": [
                                "value"
                              ]
                            },
                            {
                              "required": [
                                "types"
                              ]
                            }
                          ]
                        }
                      }
                    ]
                  }
                },
                {
                  "type": "object",
                  "additionalProperties": {
                    "type": "object",
                    "description": "Programming-language-specific statement or expression.",
                    "minProperties": 1,
                    "propertyNames": {
                      "$ref": "#/subDefinitions/programmingLanguage"
                    },
                    "items": {
                      "type": "string",
                      "description": "A language-specific literal, which will be used verbatim."
                    }
                  },
                  "not": {
                    "anyOf": [
                      {
                        "required": [
                          "description"
                        ]
                      },
                      {
                        "required": [
                          "value"
                        ]
                      },
                      {
                        "required": [
                          "types"
                        ]
                      }
                    ]
                  }
                }
              ]
            }
          ]
        }
      ]
    },
    "yamlValueOrPythonExpression": {
      "oneOf": [
        {
          "$ref": "#/subDefinitions/yamlValue"
        },
        {
          "type": "string",
          "format": "tested-dsl-expression",
          "description": "An expression in Python-syntax."
        }
      ]
    },
    "file": {
      "oneOf": [
        {
          "type": "object",
          "description": "A file used in the test suite.",
          "required": [
            "name",
            "url"
          ],
          "properties": {
            "name": {
              "oneOf": [
                {
                  "type": "string",
                  "description": "The filename, including the file extension."
                },
                {
                  "type": "object",
                  "additionalProperties": {
                    "type": "string",
                    "description": "The filename, including the file extension."
                  },
                  "not": {
                    "anyOf": [
                      {
                        "required": [
                          "description"
                        ]
                      },
                      {
                        "required": [
                          "value"
                        ]
                      },
                      {
                        "required": [
                          "types"
                        ]
                      }
                    ]
                  }
                }
              ]
            },
            "url": {
              "oneOf": [
                {
                  "type": "string",
                  "format": "uri",
                  "description": "Relative path to the file in the `description` folder of an exercise."
                },
                {
                  "type": "object",
                  "additionalProperties": {
                    "type": "string",
                    "format": "uri",
                    "description": "Relative path to the file in the `description` folder of an exercise."
                  },
                  "not": {
                    "anyOf": [
                      {
                        "required": [
                          "description"
                        ]
                      },
                      {
                        "required": [
                          "value"
                        ]
                      },
                      {
                        "required": [
                          "types"
                        ]
                      }
                    ]
                  }
                }
              ]
            }
          }
        },
        {
          "type": "object",
          "additionalProperties": {
            "type": "object",
            "description": "A file used in the test suite.",
            "required": [
              "name",
              "url"
            ],
            "properties": {
              "name": {
                "type": "string",
                "description": "The filename, including the file extension."
              },
              "url": {
                "type": "string",
                "format": "uri",
                "description": "Relative path to the file in the `description` folder of an exercise."
              }
            }
          },
          "not": {
            "anyOf": [
              {
                "required": [
                  "description"
                ]
              },
              {
                "required": [
                  "value"
                ]
              },
              {
                "required": [
                  "types"
                ]
              }
            ]
          }
        }
      ]
    },
    "exceptionChannel": {
      "oneOf": [
        {
          "type": "string",
          "description": "Message of the expected exception."
        },
        {
          "type": "object",
          "additionalProperties": {
            "type": "string",
            "description": "Message of the expected exception."
          },
          "not": {
            "anyOf": [
              {
                "required": [
                  "description"
                ]
              },
              {
                "required": [
                  "value"
                ]
              },
              {
                "required": [
                  "types"
                ]
              }
            ]
          }
        },
        {
          "type": "object",
          "required": [
            "types"
          ],
          "properties": {
            "message": {
              "oneOf": [
                {
                  "description": "Message of the expected exception.",
                  "type": "string"
                },
                {
                  "type": "object",
                  "additionalProperties": {
                    "description": "Message of the expected exception.",
                    "type": "string"
                  },
                  "not": {
                    "anyOf": [
                      {
                        "required": [
                          "description"
                        ]
                      },
                      {
                        "required": [
                          "value"
                        ]
                      },
                      {
                        "required": [
                          "types"
                        ]
                      }
                    ]
                  }
                }
              ]
            },
            "types": {
              "oneOf": [
                {
                  "minProperties": 1,
                  "description": "Language mapping of expected exception types.",
                  "type": "object",
                  "propertyNames": {
                    "$ref": "#/subDefinitions/programmingLanguage"
                  },
                  "items": {
                    "oneOf": [
                      {
                        "type": "string"
                      },
                      {
                        "type": "object",
                        "additionalProperties": {
                          "type": "string"
                        },
                        "not": {
                          "anyOf": [
                            {
                              "required": [
                                "description"
                              ]
                            },
                            {
                              "required": [
                                "value"
                              ]
                            },
                            {
                              "required": [
                                "types"
                              ]
                            }
                          ]
                        }
                      }
                    ]
                  }
                },
                {
                  "type": "object",
                  "additionalProperties": {
                    "minProperties": 1,
                    "description": "Language mapping of expected exception types.",
                    "type": "object",
                    "propertyNames": {
                      "$ref": "#/subDefinitions/programmingLanguage"
                    },
                    "items": {
                      "type": "string"
                    }
                  },
                  "not": {
                    "anyOf": [
                      {
                        "required": [
                          "description"
                        ]
                      },
                      {
                        "required": [
                          "value"
                        ]
                      },
                      {
                        "required": [
                          "types"
                        ]
                      }
                    ]
                  }
                }
              ]
            }
          }
        },
        {
          "type": "object",
          "additionalProperties": {
            "type": "object",
            "required": [
              "types"
            ],
            "properties": {
              "message": {
                "description": "Message of the expected exception.",
                "type": "string"
              },
              "types": {
                "minProperties": 1,
                "description": "Language mapping of expected exception types.",
                "type": "object",
                "propertyNames": {
                  "$ref": "#/subDefinitions/programmingLanguage"
                },
                "items": {
                  "type": "string"
                }
              }
            }
          },
          "not": {
            "anyOf": [
              {
                "required": [
                  "description"
                ]
              },
              {
                "required": [
                  "value"
                ]
              },
              {
                "required": [
                  "types"
                ]
              }
            ]
          }
        }
      ]
    },
    "textOutputChannel": {
      "anyOf": [
        {
          "$ref": "#/subDefinitions/textualType"
        },
        {
          "oneOf": [
            {
              "type": "object",
              "description": "Built-in oracle for text values.",
              "required": [
                "data"
              ],
              "properties": {
                "data": {
                  "$ref": "#/subDefinitions/textualType"
                },
                "oracle": {
                  "const": "builtin"
                },
                "config": {
                  "$ref": "#/subDefinitions/textConfigurationOptions"
                }
              }
            },
            {
              "type": "object",
              "additionalProperties": {
                "type": "object",
                "description": "Built-in oracle for text values.",
                "required": [
                  "data"
                ],
                "properties": {
                  "data": {
                    "$ref": "#/subDefinitions/textualType"
                  },
                  "oracle": {
                    "const": "builtin"
                  },
                  "config": {
                    "$ref": "#/subDefinitions/textConfigurationOptions"
                  }
                }
              },
              "not": {
                "anyOf": [
                  {
                    "required": [
                      "description"
                    ]
                  },
                  {
                    "required": [
                      "value"
                    ]
                  },
                  {
                    "required": [
                      "types"
                    ]
                  }
                ]
              }
            }
          ]
        },
        {
          "oneOf": [
            {
              "type": "object",
              "description": "Custom oracle for text values.",
              "required": [
                "oracle",
                "file",
                "data"
              ],
              "properties": {
                "data": {
                  "$ref": "#/subDefinitions/textualType"
                },
                "oracle": {
                  "const": "custom_check"
                },
                "file": {
                  "oneOf": [
                    {
                      "type": "string",
                      "description": "The path to the file containing the custom check function."
                    },
                    {
                      "type": "object",
                      "additionalProperties": {
                        "type": "string",
                        "description": "The path to the file containing the custom check function."
                      },
                      "not": {
                        "anyOf": [
                          {
                            "required": [
                              "description"
                            ]
                          },
                          {
                            "required": [
                              "value"
                            ]
                          },
                          {
                            "required": [
                              "types"
                            ]
                          }
                        ]
                      }
                    }
                  ]
                },
                "name": {
                  "oneOf": [
                    {
                      "type": "string",
                      "description": "The name of the custom check function.",
                      "default": "evaluate"
                    },
                    {
                      "type": "object",
                      "additionalProperties": {
                        "type": "string",
                        "description": "The name of the custom check function.",
                        "default": "evaluate"
                      },
                      "not": {
                        "anyOf": [
                          {
                            "required": [
                              "description"
                            ]
                          },
                          {
                            "required": [
                              "value"
                            ]
                          },
                          {
                            "required": [
                              "types"
                            ]
                          }
                        ]
                      }
                    }
                  ]
                },
                "arguments": {
                  "oneOf": [
                    {
                      "type": "array",
                      "description": "List of YAML (or tagged expression) values to use as arguments to the function.",
                      "items": {
                        "oneOf": [
                          {
                            "$ref": "#/subDefinitions/yamlValueOrPythonExpression"
                          },
                          {
                            "type": "object",
                            "additionalProperties": {
                              "$ref": "#/subDefinitions/yamlValueOrPythonExpression"
                            },
                            "not": {
                              "anyOf": [
                                {
                                  "required": [
                                    "description"
                                  ]
                                },
                                {
                                  "required": [
                                    "value"
                                  ]
                                },
                                {
                                  "required": [
                                    "types"
                                  ]
                                }
                              ]
                            }
                          }
                        ]
                      }
                    },
                    {
                      "type": "object",
                      "additionalProperties": {
                        "type": "array",
                        "description": "List of YAML (or tagged expression) values to use as arguments to the function.",
                        "items": {
                          "$ref": "#/subDefinitions/yamlValueOrPythonExpression"
                        }
                      },
                      "not": {
                        "anyOf": [
                          {
                            "required": [
                              "description"
                            ]
                          },
                          {
                            "required": [
                              "value"
                            ]
                          },
                          {
                            "required": [
                              "types"
                            ]
                          }
                        ]
                      }
                    }
                  ]
                },
                "languages": {
                  "oneOf": [
                    {
                      "type": "array",
                      "description": "Which programming languages are supported by this oracle.",
                      "items": {
                        "$ref": "#/subDefinitions/programmingLanguage"
                      }
                    },
                    {
                      "type": "object",
                      "additionalProperties": {
                        "type": "array",
                        "description": "Which programming languages are supported by this oracle.",
                        "items": {
                          "$ref": "#/subDefinitions/programmingLanguage"
                        }
                      },
                      "not": {
                        "anyOf": [
                          {
                            "required": [
                              "description"
                            ]
                          },
                          {
                            "required": [
                              "value"
                            ]
                          },
                          {
                            "required": [
                              "types"
                            ]
                          }
                        ]
                      }
                    }
                  ]
                }
              }
            },
            {
              "type": "object",
              "additionalProperties": {
                "type": "object",
                "description": "Custom oracle for text values.",
                "required": [
                  "oracle",
                  "file",
                  "data"
                ],
                "properties": {
                  "data": {
                    "$ref": "#/subDefinitions/textualType"
                  },
                  "oracle": {
                    "const": "custom_check"
                  },
                  "file": {
                    "type": "string",
                    "description": "The path to the file containing the custom check function."
                  },
                  "name": {
                    "type": "string",
                    "description": "The name of the custom check function.",
                    "default": "evaluate"
                  },
                  "arguments": {
                    "type": "array",
                    "description": "List of YAML (or tagged expression) values to use as arguments to the function.",
                    "items": {
                      "$ref": "#/subDefinitions/yamlValueOrPythonExpression"
                    }
                  },
                  "languages": {
                    "type": "array",
                    "description": "Which programming languages are supported by this oracle.",
                    "items": {
                      "$ref": "#/subDefinitions/programmingLanguage"
                    }
                  }
                }
              },
              "not": {
                "anyOf": [
                  {
                    "required": [
                      "description"
                    ]
                  },
                  {
                    "required": [
                      "value"
                    ]
                  },
                  {
                    "required": [
                      "types"
                    ]
                  }
                ]
              }
            }
          ]
        }
      ]
    },
    "fileOutputChannel": {
      "anyOf": [
        {
          "oneOf": [
            {
              "type": "object",
              "description": "Built-in oracle for files.",
              "required": [
                "content",
                "location"
              ],
              "properties": {
                "content": {
                  "oneOf": [
                    {
                      "type": "string",
                      "description": "Path to the file containing the expected contents, relative to the evaluation directory."
                    },
                    {
                      "type": "object",
                      "additionalProperties": {
                        "type": "string",
                        "description": "Path to the file containing the expected contents, relative to the evaluation directory."
                      },
                      "not": {
                        "anyOf": [
                          {
                            "required": [
                              "description"
                            ]
                          },
                          {
                            "required": [
                              "value"
                            ]
                          },
                          {
                            "required": [
                              "types"
                            ]
                          }
                        ]
                      }
                    }
                  ]
                },
                "location": {
                  "oneOf": [
                    {
                      "type": "string",
                      "description": "Path to where the file generated by the submission should go."
                    },
                    {
                      "type": "object",
                      "additionalProperties": {
                        "type": "string",
                        "description": "Path to where the file generated by the submission should go."
                      },
                      "not": {
                        "anyOf": [
                          {
                            "required": [
                              "description"
                            ]
                          },
                          {
                            "required": [
                              "value"
                            ]
                          },
                          {
                            "required": [
                              "types"
                            ]
                          }
                        ]
                      }
                    }
                  ]
                },
                "oracle": {
                  "const": "builtin"
                },
                "config": {
                  "$ref": "#/subDefinitions/fileConfigurationOptions"
                }
              }
            },
            {
              "type": "object",
              "additionalProperties": {
                "type": "object",
                "description": "Built-in oracle for files.",
                "required": [
                  "content",
                  "location"
                ],
                "properties": {
                  "content": {
                    "type": "string",
                    "description": "Path to the file containing the expected contents, relative to the evaluation directory."
                  },
                  "location": {
                    "type": "string",
                    "description": "Path to where the file generated by the submission should go."
                  },
                  "oracle": {
                    "const": "builtin"
                  },
                  "config": {
                    "$ref": "#/subDefinitions/fileConfigurationOptions"
                  }
                }
              },
              "not": {
                "anyOf": [
                  {
                    "required": [
                      "description"
                    ]
                  },
                  {
                    "required": [
                      "value"
                    ]
                  },
                  {
                    "required": [
                      "types"
                    ]
                  }
                ]
              }
            }
          ]
        },
        {
          "oneOf": [
            {
              "type": "object",
              "description": "Custom oracle for file values.",
              "required": [
                "oracle",
                "content",
                "location",
                "file"
              ],
              "properties": {
                "oracle": {
                  "const": "custom_check"
                },
                "content": {
                  "oneOf": [
                    {
                      "type": "string",
                      "description": "Path to the file containing the expected contents, relative to the evaluation directory."
                    },
                    {
                      "type": "object",
                      "additionalProperties": {
                        "type": "string",
                        "description": "Path to the file containing the expected contents, relative to the evaluation directory."
                      },
                      "not": {
                        "anyOf": [
                          {
                            "required": [
                              "description"
                            ]
                          },
                          {
                            "required": [
                              "value"
                            ]
                          },
                          {
                            "required": [
                              "types"
                            ]
                          }
                        ]
                      }
                    }
                  ]
                },
                "location": {
                  "oneOf": [
                    {
                      "type": "string",
                      "description": "Path to where the file generated by the submission should go."
                    },
                    {
                      "type": "object",
                      "additionalProperties": {
                        "type": "string",
                        "description": "Path to where the file generated by the submission should go."
                      },
                      "not": {
                        "anyOf": [
                          {
                            "required": [
                              "description"
                            ]
                          },
                          {
                            "required": [
                              "value"
                            ]
                          },
                          {
                            "required": [
                              "types"
                            ]
                          }
                        ]
                      }
                    }
                  ]
                },
                "file": {
                  "oneOf": [
                    {
                      "type": "string",
                      "description": "The path to the file containing the custom check function."
                    },
                    {
                      "type": "object",
                      "additionalProperties": {
                        "type": "string",
                        "description": "The path to the file containing the custom check function."
                      },
                      "not": {
                        "anyOf": [
                          {
                            "required": [
                              "description"
                            ]
                          },
                          {
                            "required": [
                              "value"
                            ]
                          },
                          {
                            "required": [
                              "types"
                            ]
                          }
                        ]
                      }
                    }
                  ]
                },
                "name": {
                  "oneOf": [
                    {
                      "type": "string",
                      "description": "The name of the custom check function.",
                      "default": "evaluate"
                    },
                    {
                      "type": "object",
                      "additionalProperties": {
                        "type": "string",
                        "description": "The name of the custom check function.",
                        "default": "evaluate"
                      },
                      "not": {
                        "anyOf": [
                          {
                            "required": [
                              "description"
                            ]
                          },
                          {
                            "required": [
                              "value"
                            ]
                          },
                          {
                            "required": [
                              "types"
                            ]
                          }
                        ]
                      }
                    }
                  ]
                },
                "arguments": {
                  "oneOf": [
                    {
                      "type": "array",
                      "description": "List of YAML (or tagged expression) values to use as arguments to the function.",
                      "items": {
                        "oneOf": [
                          {
                            "$ref": "#/subDefinitions/yamlValueOrPythonExpression"
                          },
                          {
                            "type": "object",
                            "additionalProperties": {
                              "$ref": "#/subDefinitions/yamlValueOrPythonExpression"
                            },
                            "not": {
                              "anyOf": [
                                {
                                  "required": [
                                    "description"
                                  ]
                                },
                                {
                                  "required": [
                                    "value"
                                  ]
                                },
                                {
                                  "required": [
                                    "types"
                                  ]
                                }
                              ]
                            }
                          }
                        ]
                      }
                    },
                    {
                      "type": "object",
                      "additionalProperties": {
                        "type": "array",
                        "description": "List of YAML (or tagged expression) values to use as arguments to the function.",
                        "items": {
                          "$ref": "#/subDefinitions/yamlValueOrPythonExpression"
                        }
                      },
                      "not": {
                        "anyOf": [
                          {
                            "required": [
                              "description"
                            ]
                          },
                          {
                            "required": [
                              "value"
                            ]
                          },
                          {
                            "required": [
                              "types"
                            ]
                          }
                        ]
                      }
                    }
                  ]
                },
                "languages": {
                  "oneOf": [
                    {
                      "type": "array",
                      "description": "Which programming languages are supported by this oracle.",
                      "items": {
                        "$ref": "#/subDefinitions/programmingLanguage"
                      }
                    },
                    {
                      "type": "object",
                      "additionalProperties": {
                        "type": "array",
                        "description": "Which programming languages are supported by this oracle.",
                        "items": {
                          "$ref": "#/subDefinitions/programmingLanguage"
                        }
                      },
                      "not": {
                        "anyOf": [
                          {
                            "required": [
                              "description"
                            ]
                          },
                          {
                            "required": [
                              "value"
                            ]
                          },
                          {
                            "required": [
                              "types"
                            ]
                          }
                        ]
                      }
                    }
                  ]
                }
              }
            },
            {
              "type": "object",
              "additionalProperties": {
                "type": "object",
                "description": "Custom oracle for file values.",
                "required": [
                  "oracle",
                  "content",
                  "location",
                  "file"
                ],
                "properties": {
                  "oracle": {
                    "const": "custom_check"
                  },
                  "content": {
                    "type": "string",
                    "description": "Path to the file containing the expected contents, relative to the evaluation directory."
                  },
                  "location": {
                    "type": "string",
                    "description": "Path to where the file generated by the submission should go."
                  },
                  "file": {
                    "type": "string",
                    "description": "The path to the file containing the custom check function."
                  },
                  "name": {
                    "type": "string",
                    "description": "The name of the custom check function.",
                    "default": "evaluate"
                  },
                  "arguments": {
                    "type": "array",
                    "description": "List of YAML (or tagged expression) values to use as arguments to the function.",
                    "items": {
                      "$ref": "#/subDefinitions/yamlValueOrPythonExpression"
                    }
                  },
                  "languages": {
                    "type": "array",
                    "description": "Which programming languages are supported by this oracle.",
                    "items": {
                      "$ref": "#/subDefinitions/programmingLanguage"
                    }
                  }
                }
              },
              "not": {
                "anyOf": [
                  {
                    "required": [
                      "description"
                    ]
                  },
                  {
                    "required": [
                      "value"
                    ]
                  },
                  {
                    "required": [
                      "types"
                    ]
                  }
                ]
              }
            }
          ]
        }
      ]
    },
    "returnOutputChannel": {
      "oneOf": [
        {
          "$ref": "#/subDefinitions/yamlValueOrPythonExpression"
        },
        {
          "type": "object",
          "additionalProperties": {
            "$ref": "#/subDefinitions/yamlValueOrPythonExpression"
          },
          "not": {
            "anyOf": [
              {
                "required": [
                  "description"
                ]
              },
              {
                "required": [
                  "value"
                ]
              },
              {
                "required": [
                  "types"
                ]
              }
            ]
          }
        },
        {
          "additionalProperties": false,
          "required": [
            "value"
          ],
          "properties": {
            "oracle": {
              "const": "builtin"
            },
            "value": {
              "oneOf": [
                {
                  "$ref": "#/subDefinitions/yamlValueOrPythonExpression"
                },
                {
                  "type": "object",
                  "additionalProperties": {
                    "$ref": "#/subDefinitions/yamlValueOrPythonExpression"
                  },
                  "not": {
                    "anyOf": [
                      {
                        "required": [
                          "description"
                        ]
                      },
                      {
                        "required": [
                          "value"
                        ]
                      },
                      {
                        "required": [
                          "types"
                        ]
                      }
                    ]
                  }
                }
              ]
            }
          },
          "type": "object"
        },
        {
          "type": "object",
          "additionalProperties": {
            "additionalProperties": false,
            "required": [
              "value"
            ],
            "properties": {
              "oracle": {
                "const": "builtin"
              },
              "value": {
                "$ref": "#/subDefinitions/yamlValueOrPythonExpression"
              }
            },
            "type": "object"
          },
          "not": {
            "anyOf": [
              {
                "required": [
                  "description"
                ]
              },
              {
                "required": [
                  "value"
                ]
              },
              {
                "required": [
                  "types"
                ]
              }
            ]
          }
        },
        {
          "additionalProperties": false,
          "required": [
            "value",
            "oracle",
            "file"
          ],
          "properties": {
            "oracle": {
              "const": "custom_check"
            },
            "value": {
              "oneOf": [
                {
                  "$ref": "#/subDefinitions/yamlValueOrPythonExpression"
                },
                {
                  "type": "object",
                  "additionalProperties": {
                    "$ref": "#/subDefinitions/yamlValueOrPythonExpression"
                  },
                  "not": {
                    "anyOf": [
                      {
                        "required": [
                          "description"
                        ]
                      },
                      {
                        "required": [
                          "value"
                        ]
                      },
                      {
                        "required": [
                          "types"
                        ]
                      }
                    ]
                  }
                }
              ]
            },
            "file": {
              "oneOf": [
                {
                  "type": "string",
                  "description": "The path to the file containing the custom check function."
                },
                {
                  "type": "object",
                  "additionalProperties": {
                    "type": "string",
                    "description": "The path to the file containing the custom check function."
                  },
                  "not": {
                    "anyOf": [
                      {
                        "required": [
                          "description"
                        ]
                      },
                      {
                        "required": [
                          "value"
                        ]
                      },
                      {
                        "required": [
                          "types"
                        ]
                      }
                    ]
                  }
                }
              ]
            },
            "name": {
              "oneOf": [
                {
                  "type": "string",
                  "description": "The name of the custom check function.",
                  "default": "evaluate"
                },
                {
                  "type": "object",
                  "additionalProperties": {
                    "type": "string",
                    "description": "The name of the custom check function.",
                    "default": "evaluate"
                  },
                  "not": {
                    "anyOf": [
                      {
                        "required": [
                          "description"
                        ]
                      },
                      {
                        "required": [
                          "value"
                        ]
                      },
                      {
                        "required": [
                          "types"
                        ]
                      }
                    ]
                  }
                }
              ]
            },
            "arguments": {
              "oneOf": [
                {
                  "description": "List of YAML (or tagged expression) values to use as arguments to the function.",
                  "type": "array",
                  "items": {
                    "oneOf": [
                      {
                        "$ref": "#/subDefinitions/yamlValueOrPythonExpression"
                      },
                      {
                        "type": "object",
                        "additionalProperties": {
                          "$ref": "#/subDefinitions/yamlValueOrPythonExpression"
                        },
                        "not": {
                          "anyOf": [
                            {
                              "required": [
                                "description"
                              ]
                            },
                            {
                              "required": [
                                "value"
                              ]
                            },
                            {
                              "required": [
                                "types"
                              ]
                            }
                          ]
                        }
                      }
                    ]
                  }
                },
                {
                  "type": "object",
                  "additionalProperties": {
                    "description": "List of YAML (or tagged expression) values to use as arguments to the function.",
                    "type": "array",
                    "items": {
                      "$ref": "#/subDefinitions/yamlValueOrPythonExpression"
                    }
                  },
                  "not": {
                    "anyOf": [
                      {
                        "required": [
                          "description"
                        ]
                      },
                      {
                        "required": [
                          "value"
                        ]
                      },
                      {
                        "required": [
                          "types"
                        ]
                      }
                    ]
                  }
                }
              ]
            },
            "languages": {
              "oneOf": [
                {
                  "type": "array",
                  "description": "Which programming languages are supported by this oracle.",
                  "items": {
                    "$ref": "#/subDefinitions/programmingLanguage"
                  }
                },
                {
                  "type": "object",
                  "additionalProperties": {
                    "type": "array",
                    "description": "Which programming languages are supported by this oracle.",
                    "items": {
                      "$ref": "#/subDefinitions/programmingLanguage"
                    }
                  },
                  "not": {
                    "anyOf": [
                      {
                        "required": [
                          "description"
                        ]
                      },
                      {
                        "required": [
                          "value"
                        ]
                      },
                      {
                        "required": [
                          "types"
                        ]
                      }
                    ]
                  }
                }
              ]
            }
          },
          "type": "object"
        },
        {
          "type": "object",
          "additionalProperties": {
            "additionalProperties": false,
            "required": [
              "value",
              "oracle",
              "file"
            ],
            "properties": {
              "oracle": {
                "const": "custom_check"
              },
              "value": {
                "$ref": "#/subDefinitions/yamlValueOrPythonExpression"
              },
              "file": {
                "type": "string",
                "description": "The path to the file containing the custom check function."
              },
              "name": {
                "type": "string",
                "description": "The name of the custom check function.",
                "default": "evaluate"
              },
              "arguments": {
                "description": "List of YAML (or tagged expression) values to use as arguments to the function.",
                "type": "array",
                "items": {
                  "$ref": "#/subDefinitions/yamlValueOrPythonExpression"
                }
              },
              "languages": {
                "type": "array",
                "description": "Which programming languages are supported by this oracle.",
                "items": {
                  "$ref": "#/subDefinitions/programmingLanguage"
                }
              }
            },
            "type": "object"
          },
          "not": {
            "anyOf": [
              {
                "required": [
                  "description"
                ]
              },
              {
                "required": [
                  "value"
                ]
              },
              {
                "required": [
                  "types"
                ]
              }
            ]
          }
        },
        {
          "additionalProperties": false,
          "required": [
            "oracle",
            "functions"
          ],
          "properties": {
            "oracle": {
              "const": "specific_check"
            },
            "functions": {
              "oneOf": [
                {
                  "minProperties": 1,
                  "description": "Language mapping of oracle functions.",
                  "type": "object",
                  "propertyNames": {
                    "$ref": "#/subDefinitions/programmingLanguage"
                  },
                  "items": {
                    "oneOf": [
                      {
                        "type": "object",
                        "required": [
                          "file"
                        ],
                        "properties": {
                          "file": {
                            "oneOf": [
                              {
                                "type": "string",
                                "description": "The path to the file containing the custom check function."
                              },
                              {
                                "type": "object",
                                "additionalProperties": {
                                  "type": "string",
                                  "description": "The path to the file containing the custom check function."
                                },
                                "not": {
                                  "anyOf": [
                                    {
                                      "required": [
                                        "description"
                                      ]
                                    },
                                    {
                                      "required": [
                                        "value"
                                      ]
                                    },
                                    {
                                      "required": [
                                        "types"
                                      ]
                                    }
                                  ]
                                }
                              }
                            ]
                          },
                          "name": {
                            "oneOf": [
                              {
                                "type": "string",
                                "description": "The name of the custom check function.",
                                "default": "evaluate"
                              },
                              {
                                "type": "object",
                                "additionalProperties": {
                                  "type": "string",
                                  "description": "The name of the custom check function.",
                                  "default": "evaluate"
                                },
                                "not": {
                                  "anyOf": [
                                    {
                                      "required": [
                                        "description"
                                      ]
                                    },
                                    {
                                      "required": [
                                        "value"
                                      ]
                                    },
                                    {
                                      "required": [
                                        "types"
                                      ]
                                    }
                                  ]
                                }
                              }
                            ]
                          }
                        }
                      },
                      {
                        "type": "object",
                        "additionalProperties": {
                          "type": "object",
                          "required": [
                            "file"
                          ],
                          "properties": {
                            "file": {
                              "type": "string",
                              "description": "The path to the file containing the custom check function."
                            },
                            "name": {
                              "type": "string",
                              "description": "The name of the custom check function.",
                              "default": "evaluate"
                            }
                          }
                        },
                        "not": {
                          "anyOf": [
                            {
                              "required": [
                                "description"
                              ]
                            },
                            {
                              "required": [
                                "value"
                              ]
                            },
                            {
                              "required": [
                                "types"
                              ]
                            }
                          ]
                        }
                      }
                    ]
                  }
                },
                {
                  "type": "object",
                  "additionalProperties": {
                    "minProperties": 1,
                    "description": "Language mapping of oracle functions.",
                    "type": "object",
                    "propertyNames": {
                      "$ref": "#/subDefinitions/programmingLanguage"
                    },
                    "items": {
                      "type": "object",
                      "required": [
                        "file"
                      ],
                      "properties": {
                        "file": {
                          "type": "string",
                          "description": "The path to the file containing the custom check function."
                        },
                        "name": {
                          "type": "string",
                          "description": "The name of the custom check function.",
                          "default": "evaluate"
                        }
                      }
                    }
                  },
                  "not": {
                    "anyOf": [
                      {
                        "required": [
                          "description"
                        ]
                      },
                      {
                        "required": [
                          "value"
                        ]
                      },
                      {
                        "required": [
                          "types"
                        ]
                      }
                    ]
                  }
                }
              ]
            },
            "arguments": {
              "oneOf": [
                {
                  "minProperties": 1,
                  "description": "Language mapping of oracle arguments.",
                  "type": "object",
                  "propertyNames": {
                    "$ref": "#/subDefinitions/programmingLanguage"
                  },
                  "items": {
                    "oneOf": [
                      {
                        "type": "array",
                        "description": "List of YAML (or tagged expression) values to use as arguments to the function.",
                        "items": {
                          "oneOf": [
                            {
                              "type": "string",
                              "description": "A language-specific literal, which will be used verbatim."
                            },
                            {
                              "type": "object",
                              "additionalProperties": {
                                "type": "string",
                                "description": "A language-specific literal, which will be used verbatim."
                              },
                              "not": {
                                "anyOf": [
                                  {
                                    "required": [
                                      "description"
                                    ]
                                  },
                                  {
                                    "required": [
                                      "value"
                                    ]
                                  },
                                  {
                                    "required": [
                                      "types"
                                    ]
                                  }
                                ]
                              }
                            }
                          ]
                        }
                      },
                      {
                        "type": "object",
                        "additionalProperties": {
                          "type": "array",
                          "description": "List of YAML (or tagged expression) values to use as arguments to the function.",
                          "items": {
                            "type": "string",
                            "description": "A language-specific literal, which will be used verbatim."
                          }
                        },
                        "not": {
                          "anyOf": [
                            {
                              "required": [
                                "description"
                              ]
                            },
                            {
                              "required": [
                                "value"
                              ]
                            },
                            {
                              "required": [
                                "types"
                              ]
                            }
                          ]
                        }
                      }
                    ]
                  }
                },
                {
                  "type": "object",
                  "additionalProperties": {
                    "minProperties": 1,
                    "description": "Language mapping of oracle arguments.",
                    "type": "object",
                    "propertyNames": {
                      "$ref": "#/subDefinitions/programmingLanguage"
                    },
                    "items": {
                      "type": "array",
                      "description": "List of YAML (or tagged expression) values to use as arguments to the function.",
                      "items": {
                        "type": "string",
                        "description": "A language-specific literal, which will be used verbatim."
                      }
                    }
                  },
                  "not": {
                    "anyOf": [
                      {
                        "required": [
                          "description"
                        ]
                      },
                      {
                        "required": [
                          "value"
                        ]
                      },
                      {
                        "required": [
                          "types"
                        ]
                      }
                    ]
                  }
                }
              ]
            },
            "value": {
              "oneOf": [
                {
                  "$ref": "#/subDefinitions/yamlValueOrPythonExpression"
                },
                {
                  "type": "object",
                  "additionalProperties": {
                    "$ref": "#/subDefinitions/yamlValueOrPythonExpression"
                  },
                  "not": {
                    "anyOf": [
                      {
                        "required": [
                          "description"
                        ]
                      },
                      {
                        "required": [
                          "value"
                        ]
                      },
                      {
                        "required": [
                          "types"
                        ]
                      }
                    ]
                  }
                }
              ]
            }
          },
          "type": "object"
        },
        {
          "type": "object",
          "additionalProperties": {
            "additionalProperties": false,
            "required": [
              "oracle",
              "functions"
            ],
            "properties": {
              "oracle": {
                "const": "specific_check"
              },
              "functions": {
                "minProperties": 1,
                "description": "Language mapping of oracle functions.",
                "type": "object",
                "propertyNames": {
                  "$ref": "#/subDefinitions/programmingLanguage"
                },
                "items": {
                  "type": "object",
                  "required": [
                    "file"
                  ],
                  "properties": {
                    "file": {
                      "type": "string",
                      "description": "The path to the file containing the custom check function."
                    },
                    "name": {
                      "type": "string",
                      "description": "The name of the custom check function.",
                      "default": "evaluate"
                    }
                  }
                }
              },
              "arguments": {
                "minProperties": 1,
                "description": "Language mapping of oracle arguments.",
                "type": "object",
                "propertyNames": {
                  "$ref": "#/subDefinitions/programmingLanguage"
                },
                "items": {
                  "type": "array",
                  "description": "List of YAML (or tagged expression) values to use as arguments to the function.",
                  "items": {
                    "type": "string",
                    "description": "A language-specific literal, which will be used verbatim."
                  }
                }
              },
              "value": {
                "$ref": "#/subDefinitions/yamlValueOrPythonExpression"
              }
            },
            "type": "object"
          },
          "not": {
            "anyOf": [
              {
                "required": [
                  "description"
                ]
              },
              {
                "required": [
                  "value"
                ]
              },
              {
                "required": [
                  "types"
                ]
              }
            ]
          }
        }
      ]
    },
    "programmingLanguage": {
      "oneOf": [
        {
          "type": "string",
          "description": "One of the programming languages supported by TESTed.",
          "enum": [
            "bash",
            "c",
            "haskell",
            "java",
            "javascript",
            "typescript",
            "kotlin",
            "python",
            "runhaskell",
            "csharp",
            "cpp"
          ]
        },
        {
          "type": "object",
          "additionalProperties": {
            "type": "string",
            "description": "One of the programming languages supported by TESTed.",
            "enum": [
              "bash",
              "c",
              "haskell",
              "java",
              "javascript",
              "typescript",
              "kotlin",
              "python",
              "runhaskell",
              "csharp",
              "cpp"
            ]
          },
          "not": {
            "anyOf": [
              {
                "required": [
                  "description"
                ]
              },
              {
                "required": [
                  "value"
                ]
              },
              {
                "required": [
                  "types"
                ]
              }
            ]
          }
        }
      ]
    },
    "message": {
      "oneOf": [
        {
          "type": "string",
          "description": "A simple message to display."
        },
        {
          "type": "object",
          "additionalProperties": {
            "type": "string",
            "description": "A simple message to display."
          },
          "not": {
            "anyOf": [
              {
                "required": [
                  "description"
                ]
              },
              {
                "required": [
                  "value"
                ]
              },
              {
                "required": [
                  "types"
                ]
              }
            ]
          }
        },
        {
          "type": "object",
          "required": [
            "description"
          ],
          "properties": {
            "description": {
              "oneOf": [
                {
                  "description": "The message to display.",
                  "type": "string"
                },
                {
                  "type": "object",
                  "additionalProperties": {
                    "description": "The message to display.",
                    "type": "string"
                  },
                  "not": {
                    "anyOf": [
                      {
                        "required": [
                          "description"
                        ]
                      },
                      {
                        "required": [
                          "value"
                        ]
                      },
                      {
                        "required": [
                          "types"
                        ]
                      }
                    ]
                  }
                }
              ]
            },
            "format": {
              "oneOf": [
                {
                  "type": "string",
                  "default": "text",
                  "description": "The format of the message, either a programming language, 'text' or 'html'."
                },
                {
                  "type": "object",
                  "additionalProperties": {
                    "type": "string",
                    "default": "text",
                    "description": "The format of the message, either a programming language, 'text' or 'html'."
                  },
                  "not": {
                    "anyOf": [
                      {
                        "required": [
                          "description"
                        ]
                      },
                      {
                        "required": [
                          "value"
                        ]
                      },
                      {
                        "required": [
                          "types"
                        ]
                      }
                    ]
                  }
                }
              ]
            }
          }
        },
        {
          "type": "object",
          "additionalProperties": {
            "type": "object",
            "required": [
              "description"
            ],
            "properties": {
              "description": {
                "description": "The message to display.",
                "type": "string"
              },
              "format": {
                "type": "string",
                "default": "text",
                "description": "The format of the message, either a programming language, 'text' or 'html'."
              }
            }
          },
          "not": {
            "anyOf": [
              {
                "required": [
                  "description"
                ]
              },
              {
                "required": [
                  "value"
                ]
              },
              {
                "required": [
                  "types"
                ]
              }
            ]
          }
        }
      ]
    },
    "textConfigurationOptions": {
      "oneOf": [
        {
          "type": "object",
          "description": "Configuration properties for textual comparison and to configure if the expected value should be hidden or not",
          "minProperties": 1,
          "properties": {
            "applyRounding": {
              "description": "Apply rounding when comparing as float",
              "type": "boolean"
            },
            "caseInsensitive": {
              "description": "Ignore case when comparing strings",
              "type": "boolean"
            },
            "ignoreWhitespace": {
              "description": "Ignore trailing whitespace",
              "type": "boolean"
            },
            "normalizeTrailingNewlines": {
              "description": "Normalize trailing newlines",
              "type": "boolean"
            },
            "roundTo": {
              "description": "The number of decimals to round at, when applying the rounding on floats",
              "type": "integer"
            },
            "tryFloatingPoint": {
              "description": "Try comparing text as floating point numbers",
              "type": "boolean"
            },
            "hideExpected": {
              "description": "Hide the expected value in feedback (default: false), not recommended to use!",
              "type": "boolean"
            }
          }
        },
        {
          "type": "object",
          "additionalProperties": {
            "type": "object",
            "description": "Configuration properties for textual comparison and to configure if the expected value should be hidden or not",
            "minProperties": 1,
            "properties": {
              "applyRounding": {
                "description": "Apply rounding when comparing as float",
                "type": "boolean"
              },
              "caseInsensitive": {
                "description": "Ignore case when comparing strings",
                "type": "boolean"
              },
              "ignoreWhitespace": {
                "description": "Ignore trailing whitespace",
                "type": "boolean"
              },
              "normalizeTrailingNewlines": {
                "description": "Normalize trailing newlines",
                "type": "boolean"
              },
              "roundTo": {
                "description": "The number of decimals to round at, when applying the rounding on floats",
                "type": "integer"
              },
              "tryFloatingPoint": {
                "description": "Try comparing text as floating point numbers",
                "type": "boolean"
              },
              "hideExpected": {
                "description": "Hide the expected value in feedback (default: false), not recommended to use!",
                "type": "boolean"
              }
            }
          },
          "not": {
            "anyOf": [
              {
                "required": [
                  "description"
                ]
              },
              {
                "required": [
                  "value"
                ]
              },
              {
                "required": [
                  "types"
                ]
              }
            ]
          }
        }
      ]
    },
    "fileConfigurationOptions": {
      "anyOf": [
        {
          "$ref": "#/subDefinitions/textConfigurationOptions"
        },
        {
          "oneOf": [
            {
              "type": "object",
              "properties": {
                "mode": {
                  "oneOf": [
                    {
                      "type": "string",
                      "enum": [
                        "full",
                        "line"
                      ],
                      "default": "full"
                    },
                    {
                      "type": "object",
                      "additionalProperties": {
                        "type": "string",
                        "enum": [
                          "full",
                          "line"
                        ],
                        "default": "full"
                      },
                      "not": {
                        "anyOf": [
                          {
                            "required": [
                              "description"
                            ]
                          },
                          {
                            "required": [
                              "value"
                            ]
                          },
                          {
                            "required": [
                              "types"
                            ]
                          }
                        ]
                      }
                    }
                  ]
                }
              }
            },
            {
              "type": "object",
              "additionalProperties": {
                "type": "object",
                "properties": {
                  "mode": {
                    "type": "string",
                    "enum": [
                      "full",
                      "line"
                    ],
                    "default": "full"
                  }
                }
              },
              "not": {
                "anyOf": [
                  {
                    "required": [
                      "description"
                    ]
                  },
                  {
                    "required": [
                      "value"
                    ]
                  },
                  {
                    "required": [
                      "types"
                    ]
                  }
                ]
              }
            }
          ]
        }
      ]
    },
    "textualType": {
      "oneOf": [
        {
          "description": "Simple textual value, converted to string.",
          "type": [
            "string",
            "number",
            "integer",
            "boolean"
          ]
        },
        {
          "type": "object",
          "additionalProperties": {
            "description": "Simple textual value, converted to string.",
            "type": [
              "string",
              "number",
              "integer",
              "boolean"
            ]
          },
          "not": {
            "anyOf": [
              {
                "required": [
                  "description"
                ]
              },
              {
                "required": [
                  "value"
                ]
              },
              {
                "required": [
                  "types"
                ]
              }
            ]
          }
        }
      ]
    },
    "yamlValue": {
      "description": "A value represented as YAML."
    },
    "inheritableConfigObject": {
      "oneOf": [
        {
          "type": "object",
          "properties": {
            "stdout": {
              "$ref": "#/subDefinitions/textConfigurationOptions"
            },
            "stderr": {
              "$ref": "#/subDefinitions/textConfigurationOptions"
            },
            "file": {
              "$ref": "#/subDefinitions/fileConfigurationOptions"
            }
          }
        },
        {
          "type": "object",
          "additionalProperties": {
            "type": "object",
            "properties": {
              "stdout": {
                "$ref": "#/subDefinitions/textConfigurationOptions"
              },
              "stderr": {
                "$ref": "#/subDefinitions/textConfigurationOptions"
              },
              "file": {
                "$ref": "#/subDefinitions/fileConfigurationOptions"
              }
            }
          },
          "not": {
            "anyOf": [
              {
                "required": [
                  "description"
                ]
              },
              {
                "required": [
                  "value"
                ]
              },
              {
                "required": [
                  "types"
                ]
              }
            ]
          }
        }
      ]
    }
  }
}